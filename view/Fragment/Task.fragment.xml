<core:FragmentDefinition xmlns="sap.m"
	xmlns:core="sap.ui.core">
	<Dialog id="task-dialog" title="Focus on the next task at hand" class="sapUiContentPadding">
		<beginButton>
			<Button enabled="{Config>/settings/history/session}" text="Create task" tooltip="Add this task to your tasklist. Only possible if you have 'Record session' set to active in your settings" press="handleCreateNewTask" />
		</beginButton>
		<endButton>
			<Button type="Accept" text="Set active task" tooltip="Set this task as your current focus. If 'Record session' is active, your working time and breaks will automatically be added to the currently active task" press="handleCloseTaskDialog" />
		</endButton>
		<content>

			<VBox class="sapUiTinyMargin">
				<Label text="What are you focusing on?"></Label>
				<Input placeholder="What are you focusing on?" value="{Task>/task/title}" showSuggestion="true" suggestionItems="{Task>/history}">
					<suggestionItems>
						<core:ListItem text="{Task>title}" additionalText="{path: 'Task>status', formatter: '.formatter.formatStatusToString'} - {path: 'Task>msExpired', formatter: '.formatter.formatMsToMinutes'} / {path: 'Task>msExpected', formatter: '.formatter.formatMsToMinutes'}"/>
					</suggestionItems>
				</Input>

				<Label text="Time estimation (H)"></Label>
				<StepInput value="{Task>/taskEstimation}" displayValuePrecision="2" width="100%" min="0" step="0.25" largerStep="1" textAlign="Center"/>

				<Label text="Add a comment"></Label>
				<TextArea placeholder="Add a comment" value="{Task>/task/desc}" width="100%"/>
			</VBox>

			<!-- taskEstimation -->
		</content>
	</Dialog>
</core:FragmentDefinition>