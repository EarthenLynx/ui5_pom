<mvc:View controllerName="sap.ui.demo.basicTemplate.controller.Home" displayBlock="true"
  xmlns="sap.m"
  xmlns:l="sap.ui.layout"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:core="sap.ui.core">
  <Table inset="false" items="{Task>/history}" alternateRowColors="true" backgroundDesign="solid">
    <headerToolbar>
      <OverflowToolbar>
        <content>
          <Title text="Tasklist" level="H2"/>
          <ToolbarSpacer />
          <!-- TODO: Add a filter for only today's items here -->
          <Button icon="sap-icon://synchronize" tooltip="This will try and find older session data, if you have the history option enabled" press="handleSynchronizeHistory" />
          <Button icon="sap-icon://eraser" tooltip="This will only delete tasks from your current session. To delete history data, go to 'Settings'" press="handleDeleteHistory" />
        </content>
      </OverflowToolbar>
    </headerToolbar>
    <infoToolbar>
      <OverflowToolbar>
        <Label text="Your past Pomodoros are logged here. If you synchronize, these data might be lost if you have not kept a history before. You can permanently remove older tasks in your settings"/>
      </OverflowToolbar>
    </infoToolbar>
    <columns>
      <Column>
        <Text text="Task name" />
      </Column>
      <Column minScreenWidth="Desktop" demandPopin="true">
        <Text text="Description" />
      </Column>
      <Column width="5rem" minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
        <Text text="Time estimated" />
      </Column>
      <Column width="5rem" minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
        <Text text="Time spent" />
      </Column>
      <Column width="7rem" minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
        <Text text="Pomodoro Phase" />
      </Column>
      <Column width="4rem" hAlign="Center">
        <!-- Empty column for edit button -->
      </Column>
    </columns>
    <items>
      <ColumnListItem>
        <cells>
          <ObjectIdentifier text="{Task>title}"/>
          <Text text="{Task>desc}" />
          <Text text="{path: 'Task>msEstimated', formatter: '.formatter.formatMsToHours'} h" />
          <Text text="{path: 'Task>msExpired', formatter: '.formatter.formatMsToHours'} h" />
          <Text text="{path: 'Task>status', formatter: '.formatter.formatStatusToString'}" />
          <Button type="Transparent" icon="sap-icon://edit" tooltip="Edit this task" press="handleOpenTaskEditDialog" />
        </cells>
      </ColumnListItem>
    </items>
  </Table>
</mvc:View>