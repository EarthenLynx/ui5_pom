sap.ui.define(["sap/ui/model/json/JSONModel","./Config.model"],function(t,s){"use strict";const e=t.extend("apps.pomodoro.model.TaskModel",{modelname:"Task",modelpath:"http://192.168.2.159:9001/pomodoro-histories/",tie(t){t.getOwnerComponent().setModel(this,this.modelname)},async addToHistory(t){if(s.getProperty("/settings/history/session")===true){const s=await this._post("",t)}},async getTaskById(t){const s=await this._get(t);return await s.json()},async updateTaskById(t,s){const e=await this._put(t,s)},async deleteTaskById(t){const s=await this._delete(t)},clearHistory(t=false){this.setProperty("/history",[]);if(t===true){localStorage.setItem("history",JSON.stringify([]))}},async getActiveTask(t){const s=await this._get(t);this.setProperty("/task",s)},async getHistory(){const t=await this._get();if(!!t){this.setProperty("/history",t);return true}else{return false}},async _get(t=""){const s=this.modelpath+t;const e={"content-type":"application/json"};const o={method:"get",headers:e};const a=await fetch(s,o);return await a.json()},async _post(t="",s){const e=this.modelpath+t;const o={"content-type":"application/json"};const a=JSON.stringify(s);const n={method:"post",headers:o,body:a};const i=await fetch(e,n);return await i.json()},async _put(t,s){const e=this.modelpath+t;const o={"content-type":"application/json"};const a=JSON.stringify(s);const n={method:"put",headers:o,body:a};const i=await fetch(e,n);return await i.json()},async _delete(t){const s=this.modelpath+t;const e={method:"delete"};const o=await fetch(s,e);return await o.json()}});return new e({task:{},taskEditByUser:{},taskEstimation:0,history:[]})});