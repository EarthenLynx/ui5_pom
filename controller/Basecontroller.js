sap.ui.define(["sap/ui/core/mvc/Controller","../model/Pomodoro.model","sap/m/MessageToast","sap/m/Text","sap/m/Dialog","sap/m/Button","sap/m/MessageStrip"],function(e,t,o,s,i,a,n){"use strict";return e.extend("sap.ui.demo.basicTemplate.controller.Basecontroller",{async requestNotificationPermission(){const e=Notification.permission;if(e!=="granted"){const e=await Notification.requestPermission();if(e==="granted"){o.show("You will now receive notifications whenever a phase is over");return true}else{o.show("You will receive no notifications. You can change your decision in the Settings panel");return false}}},async sendNotification(e,t){const o=await Notification.requestPermission();if(o==="granted"){const o=new Notification(e,t);o.onclick=e=>{e.preventDefault();window.focus();o.close()}}},_handleCreateMessageStrip(e,t,o){const s=this.getView().byId(o);const i=new n({text:e,type:t,showCloseButton:true,showIcon:true});s.addContent(i)},_handleCreateConfirmationPopup(e,t){var o=new i({title:"Information",type:"Message",state:"Information",content:new s({text:e}),beginButton:new a({text:"Cancel",type:"Reject",press(){o.close();return}}),endButton:new a({text:"Confirm",type:"Accept",press(){if(t){t()}o.close()}}),afterClose(){o.destroy()}});o.open();return},handleSetUserTheme(){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this._setTheme("dark")}if(localStorage.getItem("user-theme")){const e=localStorage.getItem("user-theme");this._setTheme(e)}},handleToggleUserTheme(){const e=localStorage.getItem("user-theme");if(e==="dark"){this._setTheme("light")}else{this._setTheme("dark")}},_setTheme(e){if(e==="dark"){t.setProperty("/settings/appearance/theme","dark");localStorage.setItem("user-theme","dark");sap.ui.getCore().applyTheme("sap_fiori_3_dark")}else if(e==="light"){t.setProperty("/settings/appearance/theme","light");localStorage.setItem("user-theme","light");sap.ui.getCore().applyTheme("sap_fiori_3")}}})});